<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mehmet Emir AI</title>
  <meta name="description" content="Mehmet Emir AI - ZenoAI sohbet" />

  <style>
    :root{
      --bg:#0b0f19;
      --panel:#111827;
      --panel2:#0f172a;
      --border:#25324a;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#7c3aed;
      --accent2:#22c55e;
      --bubbleUser:#1f2937;
      --bubbleAI:#111827;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(1200px 600px at 20% 0%, #1b1140 0%, transparent 60%),
                  radial-gradient(800px 500px at 90% 10%, #0a2a3a 0%, transparent 55%),
                  var(--bg);
      color:var(--text);
    }
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .topbar{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;padding:12px 14px;border:1px solid var(--border);
      background: rgba(17,24,39,.75); backdrop-filter: blur(10px);
      border-radius:16px;
      position:sticky; top:10px; z-index:5;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:44px;height:44px;border-radius:12px;
      background: linear-gradient(135deg, rgba(124,58,237,.35), rgba(34,197,94,.25));
      border:1px solid rgba(124,58,237,.35);
      display:grid; place-items:center; overflow:hidden;
      box-shadow: 0 10px 30px rgba(124,58,237,.18);
      position:relative;
    }
    .logo::after{
      content:"";
      position:absolute; inset:-60%;
      background: conic-gradient(from 180deg, transparent, rgba(124,58,237,.55), transparent);
      animation: spin 4s linear infinite;
    }
    .logo span{
      position:relative; z-index:2;
      font-weight:800; letter-spacing:.5px;
      color:#fff;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    .titleBlock{display:flex;flex-direction:column;line-height:1.1}
    .title{
      font-size:16px;font-weight:800; display:flex; gap:8px; align-items:center;
    }
    .badge{
      font-size:12px; color: #c7d2fe;
      padding:4px 8px; border-radius:999px;
      border:1px solid rgba(124,58,237,.45);
      background: rgba(124,58,237,.12);
    }
    .subtitle{font-size:12px;color:var(--muted)}
    .menu{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
    .btn{
      border:1px solid var(--border);
      background: rgba(15,23,42,.75);
      color:var(--text);
      padding:8px 10px;border-radius:12px;
      cursor:pointer;
      font-weight:600;
    }
    .btn:hover{border-color:rgba(124,58,237,.5)}
    .btn.primary{
      background: linear-gradient(135deg, rgba(124,58,237,.35), rgba(124,58,237,.15));
      border-color: rgba(124,58,237,.5);
    }
    .btn.green{
      background: linear-gradient(135deg, rgba(34,197,94,.25), rgba(34,197,94,.10));
      border-color: rgba(34,197,94,.45);
    }

    .grid{display:grid;grid-template-columns:1.2fr .8fr; gap:14px; margin-top:14px}
    @media (max-width: 900px){ .grid{grid-template-columns:1fr} .topbar{position:static} }

    .card{
      border:1px solid var(--border);
      background: rgba(17,24,39,.65);
      backdrop-filter: blur(10px);
      border-radius:16px;
      overflow:hidden;
    }
    .chatHead{
      padding:12px 14px;
      background: rgba(15,23,42,.65);
      border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .typingTitle{
      font-weight:800;
      display:flex; align-items:center; gap:8px;
    }
    .dot{width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 20px rgba(124,58,237,.6)}
    .chatBody{height:520px; overflow:auto; padding:14px; display:flex; flex-direction:column; gap:10px}
    .msg{max-width:85%; padding:10px 12px;border-radius:14px; border:1px solid var(--border)}
    .ai{align-self:flex-start;background:rgba(17,24,39,.65)}
    .user{align-self:flex-end;background:rgba(31,41,55,.75)}
    .meta{font-size:11px;color:var(--muted); margin-top:6px}
    .composer{
      display:flex; gap:10px; padding:12px; border-top:1px solid var(--border);
      background: rgba(15,23,42,.65);
    }
    textarea{
      flex:1; resize:none; height:44px; max-height:120px;
      border-radius:14px; border:1px solid var(--border);
      background: rgba(2,6,23,.55);
      color:var(--text); padding:10px 12px; outline:none;
    }
    .send{
      width:120px; border-radius:14px; border:1px solid rgba(124,58,237,.6);
      background: linear-gradient(135deg, rgba(124,58,237,.55), rgba(124,58,237,.20));
      color:#fff; font-weight:800; cursor:pointer;
    }
    .send:hover{filter:brightness(1.05)}
    .sidePad{padding:14px}
    .sectionTitle{font-weight:900;margin:6px 0 10px}
    .pillRow{display:flex;flex-wrap:wrap;gap:8px}
    .pill{
      border:1px solid var(--border);
      background: rgba(2,6,23,.35);
      color:var(--text);
      padding:8px 10px;border-radius:999px;
      cursor:pointer;font-weight:650;
    }
    .pill:hover{border-color:rgba(124,58,237,.55)}
    .small{font-size:12px;color:var(--muted);line-height:1.4}
    .hr{height:1px;background:var(--border);margin:12px 0}
    .status{
      font-size:12px;color:var(--muted);
      display:flex;gap:8px;align-items:center;
    }
    .ok{color:#86efac}
    .warn{color:#fde68a}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" title="ZenoAI"><span>Z</span></div>
        <div class="titleBlock">
          <div class="title">Mehmet Emir AI <span class="badge">ZenoAI</span></div>
          <div class="subtitle">Sohbet â€¢ 7. sÄ±nÄ±f â€¢ GÃ¼nlÃ¼k sorular â€¢ Mini test</div>
        </div>
      </div>
      <div class="menu">
        <button class="btn" id="btnHome">Sohbet</button>
        <button class="btn" id="btn7">7. SÄ±nÄ±f Konular</button>
        <button class="btn" id="btnTest">Mini Test</button>
        <button class="btn" id="btnDaily">GÃ¼nlÃ¼k Sorular</button>
        <button class="btn primary" id="btnHelp">YardÄ±m</button>
        <button class="btn green" id="btnClear">SÄ±fÄ±rla</button>
      </div>
    </div>

    <div class="grid">
      <!-- Chat -->
      <div class="card">
        <div class="chatHead">
          <div class="typingTitle"><span class="dot"></span><span id="chatTitle">Mehmet Emir AI</span></div>
          <div class="status" id="aiStatus">
            <span class="warn">â—</span>
            <span>Åu an: Yerel mod (hazÄ±r bilgiler)</span>
          </div>
        </div>

        <div class="chatBody" id="chatBody"></div>

        <div class="composer">
          <textarea id="inp" placeholder='Bir ÅŸey yaz... Ã¶rn: "12 bÃ¶lÃ¼ 3" / "osmanlÄ±nÄ±n 2. padiÅŸahÄ±" / "Konu anlat: KarÄ±ÅŸÄ±mlar"'></textarea>
          <button class="send" id="sendBtn">GÃ¶nder</button>
        </div>
      </div>

      <!-- Side -->
      <div class="card">
        <div class="sidePad">
          <div class="sectionTitle">HÄ±zlÄ± Denemeler</div>
          <div class="pillRow" id="quick"></div>

          <div class="hr"></div>

          <div class="sectionTitle">Komutlar</div>
          <div class="small">
            â€¢ <b>Benim adÄ±m ...</b><br/>
            â€¢ <b>Konu anlat: ...</b> (Ã¶rn: KarÄ±ÅŸÄ±mlar, Elektrik Devreleri)<br/>
            â€¢ <b>test: ...</b> (Ã¶rn: karÄ±ÅŸÄ±mlar, osmanlÄ±)<br/>
            â€¢ <b>7. sÄ±nÄ±f konular</b><br/>
            â€¢ <b>12 bÃ¶lÃ¼ 3</b> gibi iÅŸlem sorularÄ±
          </div>

          <div class="hr"></div>
          <div class="small">
            âœ… â€œSaÄŸol/teÅŸekkÃ¼râ€ yazÄ±nca otomatik: <i>â€œRica ederim, her zaman yanÄ±ndayÄ±m.â€</i><br/>
            âš™ï¸ GerÃ§ek AI baÄŸlamak iÃ§in: Cloudflare Worker + API anahtarÄ± gerekir (aÅŸaÄŸÄ±da anlatacaÄŸÄ±m).
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  // ========== Basit â€œbilgi bankasÄ±â€ (yerel) ==========
  const KB = {
    "istanbulu hangi padiÅŸah fethetti": "Ä°stanbulâ€™u fetheden padiÅŸah: II. Mehmet (Fatih Sultan Mehmet). (1453)",
    "osmanlÄ±nÄ±n 2. padiÅŸahÄ±": "OsmanlÄ±â€™nÄ±n 2. padiÅŸahÄ± Orhan Gaziâ€™dir.",
    "osmanlÄ±nÄ±n 4. padiÅŸahÄ±": "OsmanlÄ±â€™nÄ±n 4. padiÅŸahÄ± I. Bayezid (YÄ±ldÄ±rÄ±m Bayezid)â€™dir.",
    "cumhuriyet ne zaman ilan edildi": "TÃ¼rkiye Cumhuriyeti 29 Ekim 1923â€™te ilan edildi."
  };

  const SEVENTH = {
    "fen": ["HÃ¼cre ve BÃ¶lÃ¼nmeler", "Kuvvet ve Enerji", "Saf Madde ve KarÄ±ÅŸÄ±mlar", "IÅŸÄ±ÄŸÄ±n Madde ile EtkileÅŸimi", "Elektrik Devreleri"],
    "matematik": ["Tam SayÄ±lar", "Rasyonel SayÄ±lar", "Cebirsel Ä°fadeler", "EÅŸitlik ve Denklem", "Oran-OrantÄ±", "YÃ¼zdeler", "DoÄŸrular ve AÃ§Ä±lar", "Ã‡okgenler", "Veri Analizi"],
    "turkce": ["Fiiller", "CÃ¼mle TÃ¼rleri", "Paragrafta Anlam", "YazÄ±m KurallarÄ±", "Noktalama"],
    "sosyal": ["OsmanlÄ± KÃ¼ltÃ¼r-UygarlÄ±k", "KurtuluÅŸ SavaÅŸÄ±", "Cumhuriyet DÃ¶nemi", "CoÄŸrafya Temelleri"],
    "din": ["Ä°badet ve Dua", "Ahlaki DavranÄ±ÅŸlar", "Peygamberler", "Kuran Bilgisi"],
    "ingilizce": ["Simple Present", "Simple Past", "There is/are", "Countable/Uncountable", "Daily Routines"]
  };

  const TOP_QA = [
    {q:"Hava bugÃ¼n nasÄ±l?", a:"Konum ve canlÄ± hava iÃ§in hava uygulamasÄ±ndan bakmak en doÄŸru olur. Ä°stersen ÅŸehrini yaz, genel yorum yapayÄ±m."},
    {q:"Saat kaÃ§?", a:"CihazÄ±nÄ±n saatine gÃ¶re deÄŸiÅŸir. EkranÄ±n saÄŸ altÄ±nda gÃ¶rÃ¼nÃ¼yor ğŸ™‚"},
    {q:"En kolay ders Ã§alÄ±ÅŸma yÃ¶ntemi?", a:"25 dk Ã§alÄ±ÅŸma + 5 dk mola (Pomodoro). Ã–nce konu Ã¶zeti, sonra 10 soru."},
    {q:"SaÄŸlÄ±klÄ± kilo verme?", a:"Åok diyet deÄŸil: dÃ¼zenli yÃ¼rÃ¼yÃ¼ÅŸ + porsiyon kontrol + protein/su. Ä°stersen yaÅŸ-boy-kilo yaz, genel plan Ã§Ä±karayÄ±m."}
  ];

  // ========== UI ==========
  const chatBody = document.getElementById("chatBody");
  const inp = document.getElementById("inp");
  const sendBtn = document.getElementById("sendBtn");

  const quickBtns = [
    "Benim adÄ±m Mehmet",
    "7. sÄ±nÄ±f konular",
    "Konu anlat: KarÄ±ÅŸÄ±mlar",
    "Konu anlat: Elektrik Devreleri",
    "test: karÄ±ÅŸÄ±mlar",
    "12 bÃ¶lÃ¼ 3",
    "istanbulu hangi padiÅŸah fethetti",
    "osmanlÄ±nÄ±n 2. padiÅŸahÄ±"
  ];

  function addMsg(text, who="ai"){
    const el = document.createElement("div");
    el.className = "msg " + (who==="user" ? "user" : "ai");
    el.innerHTML = text.replace(/\n/g,"<br/>");
    chatBody.appendChild(el);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  function greet(){
    addMsg("Selam! Ben <b>Mehmet Emir AI</b> ğŸ˜<br/>Ä°stersen <b>â€œBenim adÄ±m ...â€</b> yaz, adÄ±nÄ± hatÄ±rlayayÄ±m.<br/>Sorunu direkt yaz: <b>fen / matematik / tarih / tÃ¼rkÃ§e / din / ingilizce</b>â€¦ elimden geldiÄŸince cevaplarÄ±m.");
  }

  // ========== Basit iÅŸlem Ã§Ã¶zÃ¼cÃ¼ ==========
  function tryMath(s){
    // "12 bÃ¶lÃ¼ 3" / "12/3" / "12 Ã· 3"
    const cleaned = s.toLowerCase()
      .replaceAll("bÃ¶lÃ¼","/")
      .replaceAll("Ã·","/")
      .replaceAll("x","*")
      .replaceAll("Ã§arpÄ±","*")
      .replaceAll(" ","");

    if(!/^[0-9+\-*/().]+$/.test(cleaned)) return null;

    try{
      const val = Function("return ("+cleaned+")")();
      if(Number.isFinite(val)) return "SonuÃ§: <b>"+val+"</b>";
    }catch(e){}
    return null;
  }

  // ========== Komutlar ==========
  let username = "";

  function handleLocal(qRaw){
    const q = qRaw.trim();
    const low = q.toLowerCase();

    // teÅŸekkÃ¼r modu
    if (/(saÄŸol|sagol|teÅŸekkÃ¼r|tesekkur|eyvallah)/i.test(low)) {
      return "Rica ederim, her zaman yanÄ±ndayÄ±m ğŸ¤";
    }

    // adÄ±nÄ± hatÄ±rla
    if (low.startsWith("benim adÄ±m")) {
      username = q.split("benim adÄ±m").pop().trim() || "";
      return username ? `Memnun oldum <b>${username}</b> ğŸ˜„` : "AdÄ±nÄ± yazarsan hatÄ±rlarÄ±m ğŸ™‚";
    }

    // 7. sÄ±nÄ±f konular
    if (low.includes("7.") && low.includes("sÄ±nÄ±f") && low.includes("konu")) {
      return [
        "<b>7. SÄ±nÄ±f Konular (Ã¶zet)</b>",
        "â€¢ Fen: " + SEVENTH.fen.join(", "),
        "â€¢ Matematik: " + SEVENTH.matematik.join(", "),
        "â€¢ TÃ¼rkÃ§e: " + SEVENTH.turkce.join(", "),
        "â€¢ Sosyal: " + SEVENTH.sosyal.join(", "),
        "â€¢ Din: " + SEVENTH.din.join(", "),
        "â€¢ Ä°ngilizce: " + SEVENTH.ingilizce.join(", ")
      ].join("<br/>");
    }

    // konu anlat
    if (low.startsWith("konu anlat:")) {
      const topic = q.split(":").pop().trim().toLowerCase();
      if(topic.includes("karÄ±ÅŸÄ±m")){
        return "<b>KarÄ±ÅŸÄ±mlar</b><br/>KarÄ±ÅŸÄ±m: Ä°ki ya da daha fazla maddenin kimyasal baÄŸ yapmadan bir araya gelmesidir.<br/>â€¢ <b>Homojen</b>: her yerde aynÄ± (tuzlu su).<br/>â€¢ <b>Heterojen</b>: her yerde aynÄ± deÄŸil (kum-su).<br/>AyÄ±rma yÃ¶ntemleri: sÃ¼zme, buharlaÅŸtÄ±rma, mÄ±knatÄ±s, eleme, ayÄ±rma hunisiâ€¦";
      }
      if(topic.includes("elektrik")){
        return "<b>Elektrik Devreleri</b><br/>Basit devre: pil + ampul + iletken kablo.<br/>â€¢ Seri baÄŸlÄ±: akÄ±m tek yol, ampul sayÄ±sÄ± artarsa parlaklÄ±k azalÄ±r.<br/>â€¢ Paralel baÄŸlÄ±: bir ampul bozulsa diÄŸeri yanar, parlaklÄ±k daha yÃ¼ksektir.";
      }
      if(topic.includes("ibadet") || topic.includes("dua")){
        return "<b>Ä°badet ve Dua</b><br/>Ä°badet: Allahâ€™Ä±n hoÅŸnutluÄŸunu kazanmak iÃ§in yapÄ±lan davranÄ±ÅŸlar (namaz, oruÃ§, zekÃ¢tâ€¦).<br/>Dua: Kulun Allahâ€™a yÃ¶nelip istemesi/ÅŸÃ¼kretmesidir. Dua sadece istemek deÄŸil, teÅŸekkÃ¼r ve tÃ¶vbe de iÃ§erir.";
      }
      return `Konu anlatmam iÃ§in biraz net yaz: Ã¶rn <b>Konu anlat: KarÄ±ÅŸÄ±mlar</b> / <b>Konu anlat: Elektrik Devreleri</b>`;
    }

    // mini test
    if (low.startsWith("test:")) {
      const topic = q.split(":").pop().trim().toLowerCase();
      if(topic.includes("karÄ±ÅŸÄ±m")){
        return "<b>Mini Test (KarÄ±ÅŸÄ±mlar)</b><br/>1) Tuzlu su homojen mi heterojen mi?<br/>2) Kum-su ayÄ±rma yÃ¶ntemi?<br/>3) BuharlaÅŸtÄ±rma neyi ayÄ±rÄ±r?<br/><br/>CevaplarÄ±nÄ± 1-2-3 diye yaz ğŸ™‚";
      }
      if(topic.includes("osman")){
        return "<b>Mini Test (OsmanlÄ±)</b><br/>1) OsmanlÄ±â€™nÄ±n kurucusu kim?<br/>2) Ä°stanbulâ€™u kim fethetti?<br/>3) 2. padiÅŸah kim?<br/><br/>CevaplarÄ±nÄ± 1-2-3 diye yaz ğŸ™‚";
      }
      return "Test iÃ§in Ã¶rnek: <b>test: karÄ±ÅŸÄ±mlar</b> veya <b>test: osmanlÄ±</b>";
    }

    // KB hazÄ±r cevap
    if (KB[low]) return KB[low];

    // matematik iÅŸlem
    const mathRes = tryMath(q);
    if (mathRes) return mathRes;

    // gÃ¼nlÃ¼k sÄ±k sorulanlar
    const found = TOP_QA.find(x => low.includes(x.q.toLowerCase().slice(0,8)));
    if(found) return found.a;

    // fallback
    return "Bunu yerel modda tam Ã§Ä±karamadÄ±m ğŸ˜…<br/>Ä°stersen ÅŸÃ¶yle yaz: <b>Alan + soru</b> (Ã¶rn: <i>matematik 3/4 nedir</i> / <i>tarih osmanlÄ±nÄ±n 2. padiÅŸahÄ±</i>).<br/><br/>Ä°stersen bir sonraki adÄ±mda <b>gerÃ§ek AI</b> baÄŸlayalÄ±m; o zaman daha akÄ±llÄ± olur.";
  }

  function send(){
    const q = inp.value.trim();
    if(!q) return;
    addMsg(q, "user");
    inp.value = "";

    const ans = handleLocal(q);
    addMsg(ans, "ai");
  }

  // quick buttons
  const quick = document.getElementById("quick");
  quickBtns.forEach(t=>{
    const b = document.createElement("button");
    b.className="pill";
    b.textContent=t;
    b.onclick=()=>{ inp.value=t; send(); };
    quick.appendChild(b);
  });

  // menu buttons
  document.getElementById("btnHome").onclick=()=>addMsg("Sohbet modundasÄ±n ğŸ™‚ Bir ÅŸey sorabilirsin.", "ai");
  document.getElementById("btn7").onclick=()=>addMsg(handleLocal("7. sÄ±nÄ±f konular"), "ai");
  document.getElementById("btnTest").onclick=()=>addMsg("Ã–rnek: <b>test: karÄ±ÅŸÄ±mlar</b> veya <b>test: osmanlÄ±</b>", "ai");
  document.getElementById("btnDaily").onclick=()=>{
    const list = TOP_QA.map((x,i)=>`${i+1}) <b>${x.q}</b> â€” ${x.a}`).join("<br/>");
    addMsg("<b>GÃ¼nlÃ¼k Sorular</b><br/>"+list, "ai");
  };
  document.getElementById("btnHelp").onclick=()=>addMsg("YardÄ±m: Ãœstteki menÃ¼den mod seÃ§ebilirsin. Komutlar: <b>Benim adÄ±m...</b>, <b>Konu anlat:</b>, <b>test:</b>, <b>7. sÄ±nÄ±f konular</b>, <b>12 bÃ¶lÃ¼ 3</b> gibi.", "ai");
  document.getElementById("btnClear").onclick=()=>{
    chatBody.innerHTML="";
    greet();
  };

  sendBtn.onclick = send;
  inp.addEventListener("keydown",(e)=>{
    if(e.key==="Enter" && !e.shiftKey){
      e.preventDefault();
      send();
    }
  });

  greet();
</script>
</body>
</html>
